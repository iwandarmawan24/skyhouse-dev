import{d as x,j as e,Q as k,V as F,f as I,L as b,W as L,Z as f,X as N,y as z,_ as E}from"./vendor-ERzRPhBn.js";import{A as M}from"./AdminLayout-BzYBBHe-.js";import{c as w,B as n}from"./Button-DKkj-eXv.js";import{C as T,a as A,b as D,d as R,c as U}from"./Card-BAS-lTRp.js";import{I as g}from"./Input-6qSCy0Tm.js";import{L as o}from"./Label-bwIrahzs.js";import{T as G}from"./Textarea-B7f3HXiN.js";const y=x.forwardRef(({className:a,...i},r)=>e.jsx(k,{className:w("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",a),...i,ref:r,children:e.jsx(F,{className:w("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));y.displayName=k.displayName;function Q({banner:a}){const i=a!==null,{data:r,setData:l,post:C,processing:v,errors:s}=I({title:a?.title||"",description:a?.description||"",image:null,button_text:a?.button_text||"",button_link:a?.button_link||"",is_active:a?.is_active??!0,_method:i?"PUT":"POST"}),[c,j]=x.useState(a?.image?a.image.startsWith("http")?a.image:`/storage/${a.image}`:null),[_,u]=x.useState(!1),[m,h]=x.useState(1),B=t=>{const d=t.target.files[0];if(d){l("image",d);const p=new FileReader;p.onloadend=()=>{j(p.result)},p.readAsDataURL(d)}},P=()=>{l("image",null),j(null)},S=t=>{t.preventDefault();const d=i?`/admin/hero-banners/${a.uid}`:"/admin/hero-banners";C(d)};return e.jsxs(M,{children:[e.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(n,{variant:"ghost",size:"icon",asChild:!0,children:e.jsx(b,{href:"/admin/hero-banners",children:e.jsx(L,{className:"h-5 w-5"})})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:i?"Edit Hero Banner":"Create Hero Banner"}),e.jsx("p",{className:"text-muted-foreground",children:i?"Update banner details":"Add a new banner to the homepage carousel"})]})]}),e.jsxs("form",{onSubmit:S,children:[e.jsxs(T,{children:[e.jsxs(A,{children:[e.jsx(D,{children:"Banner Details"}),e.jsxs(R,{children:["Fill in the information below to ",i?"update":"create"," a hero banner"]})]}),e.jsxs(U,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(o,{htmlFor:"title",children:["Title ",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsx(g,{id:"title",value:r.title,onChange:t=>l("title",t.target.value),placeholder:"Enter banner title",className:s.title?"border-destructive":""}),s.title&&e.jsx("p",{className:"text-sm text-destructive",children:s.title})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"description",children:"Description"}),e.jsx(G,{id:"description",value:r.description,onChange:t=>l("description",t.target.value),placeholder:"Enter banner description",rows:4,className:s.description?"border-destructive":""}),s.description&&e.jsx("p",{className:"text-sm text-destructive",children:s.description})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(o,{htmlFor:"image",children:["Banner Image ",!i&&e.jsx("span",{className:"text-destructive",children:"*"})]}),c?e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"relative group rounded-lg overflow-hidden border",children:[e.jsx("img",{src:c,alt:"Preview",className:"w-full h-64 object-cover cursor-pointer transition-transform group-hover:scale-105",onClick:()=>{u(!0),h(1)}}),e.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/30 transition-all flex items-center justify-center",children:e.jsx(f,{className:"w-8 h-8 text-white opacity-0 group-hover:opacity-100 transition-opacity"})}),e.jsx(n,{type:"button",variant:"destructive",size:"icon",className:"absolute top-2 right-2",onClick:P,children:e.jsx(N,{className:"h-4 w-4"})})]})}):e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"image",type:"file",className:"sr-only",accept:"image/jpeg,image/png,image/jpg,image/webp",onChange:B}),e.jsxs(o,{htmlFor:"image",className:"flex flex-col items-center justify-center w-full h-64 border-2 border-dashed rounded-lg cursor-pointer bg-muted/50 hover:bg-muted transition-colors",children:[e.jsx(z,{className:"w-10 h-10 text-muted-foreground mb-4"}),e.jsx("span",{className:"text-sm font-medium text-foreground mb-1",children:"Click to upload"}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"PNG, JPG, JPEG or WEBP (MAX. 2MB)"})]})]}),s.image&&e.jsx("p",{className:"text-sm text-destructive",children:s.image}),i&&!c&&e.jsx("p",{className:"text-sm text-muted-foreground",children:"Leave empty to keep the current image"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"button_text",children:"Button Text"}),e.jsx(g,{id:"button_text",value:r.button_text,onChange:t=>l("button_text",t.target.value),placeholder:"e.g., Learn More",className:s.button_text?"border-destructive":""}),s.button_text&&e.jsx("p",{className:"text-sm text-destructive",children:s.button_text})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"button_link",children:"Button Link"}),e.jsx(g,{id:"button_link",value:r.button_link,onChange:t=>l("button_link",t.target.value),placeholder:"e.g., /products",className:s.button_link?"border-destructive":""}),s.button_link&&e.jsx("p",{className:"text-sm text-destructive",children:s.button_link})]})]}),e.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-4",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(o,{htmlFor:"is_active",className:"text-base",children:"Active Status"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:r.is_active?"Banner is visible on the website":"Banner is hidden from the website"})]}),e.jsx(y,{id:"is_active",checked:r.is_active,onCheckedChange:t=>l("is_active",t)})]})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-4 mt-6",children:[e.jsx(n,{variant:"outline",asChild:!0,children:e.jsx(b,{href:"/admin/hero-banners",children:"Cancel"})}),e.jsx(n,{type:"submit",disabled:v,children:v?"Saving...":i?"Update Banner":"Create Banner"})]})]})]}),_&&c&&e.jsx("div",{className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4",onClick:()=>u(!1),children:e.jsxs("div",{className:"relative max-w-7xl max-h-screen",children:[e.jsx(n,{variant:"ghost",size:"icon",onClick:()=>u(!1),className:"absolute top-4 right-4 z-10 text-white hover:text-white hover:bg-white/20 rounded-full",children:e.jsx(N,{className:"h-6 w-6"})}),e.jsxs("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 z-10 flex items-center gap-2 bg-black/50 rounded-full px-4 py-2",children:[e.jsx(n,{variant:"ghost",size:"icon",onClick:t=>{t.stopPropagation(),h(Math.max(.5,m-.25))},className:"text-white hover:text-white hover:bg-white/20 h-8 w-8",children:e.jsx(E,{className:"h-4 w-4"})}),e.jsxs("span",{className:"text-white font-medium min-w-[4rem] text-center text-sm",children:[Math.round(m*100),"%"]}),e.jsx(n,{variant:"ghost",size:"icon",onClick:t=>{t.stopPropagation(),h(Math.min(3,m+.25))},className:"text-white hover:text-white hover:bg-white/20 h-8 w-8",children:e.jsx(f,{className:"h-4 w-4"})}),e.jsx(n,{variant:"ghost",size:"sm",onClick:t=>{t.stopPropagation(),h(1)},className:"text-white hover:text-white hover:bg-white/20 h-8 px-3 text-sm",children:"Reset"})]}),e.jsx("div",{className:"overflow-auto max-h-[90vh]",onClick:t=>t.stopPropagation(),children:e.jsx("img",{src:c,alt:"Preview",style:{transform:`scale(${m})`,transition:"transform 0.2s ease-in-out"},className:"max-w-full h-auto"})})]})})]})}export{Q as default};
