import{u as S,d as m,j as e,L as o,P as j,S as C,a6 as w,e as d}from"./vendor-ERzRPhBn.js";import{A as D}from"./AdminLayout-BzYBBHe-.js";import{B as a}from"./Button-DKkj-eXv.js";import{I as A}from"./Input-6qSCy0Tm.js";import"./Textarea-B7f3HXiN.js";import"./Label-bwIrahzs.js";import"./Select-PcpVC9Lh.js";import{B as g}from"./Badge-B7vNS-mb.js";import{C as u}from"./Card-BAS-lTRp.js";import{A as p}from"./Alert-C64N3IzW.js";import{T,a as k,b as f,c as i,d as M,e as n}from"./Table-BJHOxjky.js";import{D as B,a as H,b as P,c as _,d as I,e as O}from"./Dialog-BX14YzQf.js";import"./Form-kAQAJKEM.js";import{P as E}from"./Pagination-BoFrHyhw.js";function Y({media:c,filters:v}){const{flash:l}=S().props,[h,t]=m.useState(null),[r,x]=m.useState(v.search||""),b=s=>{d.delete(`/admin/media/${s}`,{onSuccess:()=>t(null)})},y=s=>{s.preventDefault(),d.get("/admin/media",{search:r},{preserveState:!0,preserveScroll:!0})},N=()=>{x(""),d.get("/admin/media",{},{preserveState:!0,preserveScroll:!0})};return e.jsxs(D,{children:[e.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Media Outlets"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage media outlets and news sources"})]}),e.jsx(o,{href:"/admin/media/create",children:e.jsxs(a,{children:[e.jsx(j,{className:"w-5 h-5 mr-2"}),"Add Media"]})})]}),l.success&&e.jsx(p,{variant:"success",className:"mb-6",children:l.success}),l.error&&e.jsx(p,{variant:"destructive",className:"mb-6",children:l.error}),e.jsx(u,{className:"mb-6 p-4",children:e.jsxs("form",{onSubmit:y,className:"flex gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(C,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 pointer-events-none"}),e.jsx(A,{type:"text",placeholder:"Search media outlets...",value:r,onChange:s=>x(s.target.value),className:"pl-10"})]}),e.jsx(a,{type:"submit",children:"Search"}),r&&e.jsx(a,{type:"button",variant:"secondary",onClick:N,children:"Clear"})]})}),e.jsx(u,{children:c.data.length>0?e.jsxs(e.Fragment,{children:[e.jsxs(T,{children:[e.jsx(k,{children:e.jsxs(f,{children:[e.jsx(i,{children:"Media Outlet"}),e.jsx(i,{children:"Highlights"}),e.jsx(i,{children:"Status"}),e.jsx(i,{className:"text-right",children:"Actions"})]})}),e.jsx(M,{children:c.data.map(s=>e.jsxs(f,{children:[e.jsx(n,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[s.logo?e.jsx("img",{src:s.logo.startsWith("http")?s.logo:`/storage/${s.logo}`,alt:s.name,className:"h-10 w-10 rounded object-contain bg-gray-50 border border-gray-200"}):e.jsx("div",{className:"h-10 w-10 rounded bg-gradient-to-br from-blue-500 to-cyan-600 flex items-center justify-center text-white font-semibold shrink-0",children:s.name.charAt(0).toUpperCase()}),e.jsx("span",{className:"font-medium text-gray-900",children:s.name})]})}),e.jsx(n,{children:e.jsxs(g,{variant:"secondary",children:[s.highlights_count," ",s.highlights_count===1?"highlight":"highlights"]})}),e.jsx(n,{children:e.jsx(g,{variant:s.is_active?"success":"destructive",children:s.is_active?"Active":"Inactive"})}),e.jsx(n,{className:"text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx(o,{href:`/admin/media/${s.uid}/edit`,children:e.jsx(a,{variant:"ghost",size:"sm",children:"Edit"})}),e.jsx(a,{variant:"ghost",size:"sm",onClick:()=>t(s.uid),className:"text-red-600 hover:text-red-900 hover:bg-red-50",children:"Delete"})]})})]},s.uid))})]}),e.jsx(E,{data:c})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(w,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No media outlets found"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:r?"Try adjusting your search":"Get started by adding a media outlet."}),!r&&e.jsx("div",{className:"mt-6",children:e.jsx(o,{href:"/admin/media/create",children:e.jsxs(a,{children:[e.jsx(j,{className:"w-5 h-5 mr-2"}),"Add Media"]})})})]})}),e.jsx(B,{open:!!h,onOpenChange:()=>t(null),children:e.jsxs(H,{onClose:()=>t(null),children:[e.jsxs(P,{children:[e.jsx(_,{children:"Delete Media Outlet"}),e.jsx(I,{children:"Are you sure you want to delete this media outlet? This action cannot be undone. Highlights from this media will not be deleted."})]}),e.jsxs(O,{children:[e.jsx(a,{variant:"secondary",onClick:()=>t(null),children:"Cancel"}),e.jsx(a,{variant:"destructive",onClick:()=>b(h),children:"Delete"})]})]})})]})}export{Y as default};
