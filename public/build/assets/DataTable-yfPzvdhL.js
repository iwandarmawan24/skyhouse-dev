import{d,a9 as C,j as e,aa as g,ab as P,ac as S,ad as b,ae as v}from"./vendor-BnbgrNvg.js";import{T as w,a as R,b as i,c as f,d as N,e as c}from"./Table-G1IrKxy8.js";import{I as M}from"./Input-BiTaUmO9.js";import{P as F,a as T,b as l,c as I,d as k,e as y}from"./Pagination-CjnCdGXL.js";function A({columns:r,data:m,searchKey:n,searchPlaceholder:x="Search...",showPagination:o=!1}){const[u,p]=d.useState([]),[h,j]=d.useState([]),t=C({data:m,columns:r,getCoreRowModel:v(),getPaginationRowModel:o?b():void 0,onSortingChange:p,getSortedRowModel:S(),onColumnFiltersChange:j,getFilteredRowModel:P(),initialState:{pagination:o?{pageSize:10}:void 0},state:{sorting:u,columnFilters:h}});return e.jsxs("div",{className:"space-y-4",children:[n&&e.jsx("div",{className:"flex items-center",children:e.jsx(M,{placeholder:x,value:t.getColumn(n)?.getFilterValue()??"",onChange:a=>t.getColumn(n)?.setFilterValue(a.target.value),className:"max-w-sm"})}),e.jsx("div",{className:"rounded-md border",children:e.jsxs(w,{children:[e.jsx(R,{children:t.getHeaderGroups().map(a=>e.jsx(i,{children:a.headers.map(s=>e.jsx(f,{children:s.isPlaceholder?null:g(s.column.columnDef.header,s.getContext())},s.id))},a.id))}),e.jsx(N,{children:t.getRowModel().rows?.length?t.getRowModel().rows.map(a=>e.jsx(i,{"data-state":a.getIsSelected()&&"selected",children:a.getVisibleCells().map(s=>e.jsx(c,{children:g(s.column.columnDef.cell,s.getContext())},s.id))},a.id)):e.jsx(i,{children:e.jsx(c,{colSpan:r.length,className:"h-24 text-center",children:"No results."})})})]})}),o&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",t.getState().pagination.pageIndex*t.getState().pagination.pageSize+1," to"," ",Math.min((t.getState().pagination.pageIndex+1)*t.getState().pagination.pageSize,t.getFilteredRowModel().rows.length)," ","of ",t.getFilteredRowModel().rows.length," results"]}),e.jsx(F,{children:e.jsxs(T,{children:[e.jsx(l,{children:e.jsx(I,{onClick:()=>t.previousPage(),disabled:!t.getCanPreviousPage(),className:t.getCanPreviousPage()?"cursor-pointer":"pointer-events-none opacity-50"})}),Array.from({length:t.getPageCount()},(a,s)=>s).map(a=>e.jsx(l,{children:e.jsx(k,{onClick:()=>t.setPageIndex(a),isActive:t.getState().pagination.pageIndex===a,className:"cursor-pointer",children:a+1})},a)),e.jsx(l,{children:e.jsx(y,{onClick:()=>t.nextPage(),disabled:!t.getCanNextPage(),className:t.getCanNextPage()?"cursor-pointer":"pointer-events-none opacity-50"})})]})})]})]})}export{A as D};
