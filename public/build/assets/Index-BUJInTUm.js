import{d as h,j as e,L as u,P as g,W as b,_ as B,$ as D,T as M,t as S,e as j}from"./vendor-BBx-STpB.js";import{A as L}from"./AdminLayout-UKB9Xu_-.js";import{B as r}from"./Button-D_Ydtlzf.js";import{C as T,c as z}from"./Card-BhmBKBnU.js";import{T as I,a as A,b as f,c as l,d as H,e as o,D as P,f as _,g as W,h as $,i as E,j as R}from"./Dialog-1tUFRzGs.js";import{B as U}from"./Badge-BIe5ToDo.js";function Q({banners:i}){const[p,n]=h.useState(null),[v,x]=h.useState(!1),[m,N]=h.useState(null),[c,d]=h.useState(1),w=s=>{j.delete(`/admin/hero-banners/${s}`,{onSuccess:()=>n(null)})},k=(s,t)=>{N({url:s,title:t}),x(!0),d(1)},y=(s,t)=>{if(t===0)return;const a=i.data[t-1];j.post("/admin/hero-banners/update-order",{updates:[{uid:s.uid,order:a.order},{uid:a.uid,order:s.order}]},{preserveScroll:!0})},C=(s,t)=>{if(t===i.data.length-1)return;const a=i.data[t+1];j.post("/admin/hero-banners/update-order",{updates:[{uid:s.uid,order:a.order},{uid:a.uid,order:s.order}]},{preserveScroll:!0})};return e.jsxs(L,{children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Hero Banners"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage homepage carousel banners"})]}),e.jsx(u,{href:"/admin/hero-banners/create",children:e.jsxs(r,{children:[e.jsx(g,{className:"w-4 h-4 mr-2"}),"Add New Banner"]})})]}),e.jsx(T,{children:e.jsx(z,{className:"p-6",children:i.data.length>0?e.jsx("div",{className:"rounded-md border",children:e.jsxs(I,{children:[e.jsx(A,{children:e.jsxs(f,{children:[e.jsx(l,{className:"w-[50px]",children:"Order"}),e.jsx(l,{className:"w-[120px]",children:"Image"}),e.jsx(l,{children:"Title"}),e.jsx(l,{children:"Button"}),e.jsx(l,{children:"Status"}),e.jsx(l,{className:"text-right",children:"Actions"})]})}),e.jsx(H,{children:i.data.map((s,t)=>{const a=s.image.startsWith("http")?s.image:`/storage/${s.image}`;return e.jsxs(f,{children:[e.jsx(o,{children:e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx(r,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>y(s,t),disabled:t===0,children:e.jsx(b,{className:"h-3 w-3"})}),e.jsx(r,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>C(s,t),disabled:t===i.data.length-1,children:e.jsx(B,{className:"h-3 w-3"})})]})}),e.jsx(o,{children:e.jsxs("div",{className:"relative cursor-pointer group w-24 h-16",onClick:()=>k(a,s.title),children:[e.jsx("img",{src:a,alt:s.title,className:"w-full h-full object-cover rounded-lg"}),e.jsx("div",{className:"absolute inset-0 bg-black opacity-0 group-hover:opacity-30 transition-opacity flex items-center justify-center rounded-lg",children:e.jsx("svg",{className:"w-6 h-6 text-white opacity-0 group-hover:opacity-100 transition-opacity",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v6m3-3H7"})})})]})}),e.jsx(o,{children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.title}),s.description&&e.jsx("div",{className:"text-sm text-muted-foreground line-clamp-1",children:s.description})]})}),e.jsx(o,{children:s.button_text?e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.button_text}),e.jsx("div",{className:"text-xs text-muted-foreground",children:s.button_link})]}):e.jsx("span",{className:"text-muted-foreground",children:"-"})}),e.jsx(o,{children:e.jsx(U,{variant:s.is_active?"success":"secondary",children:s.is_active?"Active":"Inactive"})}),e.jsx(o,{children:e.jsxs("div",{className:"flex items-center justify-end gap-1",children:[e.jsx(r,{variant:"ghost",size:"icon",className:"h-8 w-8",asChild:!0,children:e.jsxs(u,{href:`/admin/hero-banners/${s.uid}/edit`,children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Edit"})]})}),e.jsxs(r,{variant:"ghost",size:"icon",className:"h-8 w-8 text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>n(s.uid),children:[e.jsx(M,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Delete"})]})]})})]},s.uid)})})]})}):e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[e.jsx(S,{className:"h-12 w-12 text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-semibold",children:"No banners"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"Get started by creating a new hero banner."}),e.jsx(u,{href:"/admin/hero-banners/create",children:e.jsxs(r,{children:[e.jsx(g,{className:"w-4 h-4 mr-2"}),"Add New Banner"]})})]})})})]}),e.jsx(P,{open:!!p,onOpenChange:()=>n(null),children:e.jsxs(_,{children:[e.jsxs(W,{children:[e.jsx($,{children:"Delete Banner"}),e.jsx(E,{children:"Are you sure you want to delete this banner? This action cannot be undone."})]}),e.jsxs(R,{children:[e.jsx(r,{variant:"outline",onClick:()=>n(null),children:"Cancel"}),e.jsx(r,{variant:"destructive",onClick:()=>w(p),children:"Delete"})]})]})}),v&&m&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 z-50 flex items-center justify-center p-4",onClick:()=>x(!1),children:e.jsxs("div",{className:"relative max-w-7xl max-h-screen",children:[e.jsx("button",{onClick:()=>x(!1),className:"absolute top-4 right-4 z-10 text-white hover:text-gray-300 transition-colors bg-black bg-opacity-50 rounded-full p-2",children:e.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e.jsxs("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 z-10 flex items-center gap-2 bg-black bg-opacity-50 rounded-full px-4 py-2",children:[e.jsx("button",{onClick:s=>{s.stopPropagation(),d(Math.max(.5,c-.25))},className:"text-white hover:text-gray-300 transition-colors p-2",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM13 10H7"})})}),e.jsxs("span",{className:"text-white font-medium min-w-[4rem] text-center",children:[Math.round(c*100),"%"]}),e.jsx("button",{onClick:s=>{s.stopPropagation(),d(Math.min(3,c+.25))},className:"text-white hover:text-gray-300 transition-colors p-2",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v6m3-3H7"})})}),e.jsx("button",{onClick:s=>{s.stopPropagation(),d(1)},className:"text-white hover:text-gray-300 transition-colors px-3 py-1 text-sm",children:"Reset"})]}),e.jsx("div",{className:"overflow-auto max-h-[90vh]",onClick:s=>s.stopPropagation(),children:e.jsx("img",{src:m.url,alt:m.title,style:{transform:`scale(${c})`,transition:"transform 0.2s ease-in-out"},className:"max-w-full h-auto"})})]})})]})}export{Q as default};
