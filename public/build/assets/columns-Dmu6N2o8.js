import{j as e,I as N,k as j,n as v,L as y,l as w,T as _,d as b,b0 as u,b1 as I,b2 as k,b3 as D,b4 as S,b5 as f,X as z}from"./vendor-BnbgrNvg.js";import{B as d}from"./Button-C9qRTbX8.js";import{B as c}from"./Badge-C1TDCZWx.js";import{D as C,a as B,b as F,c as A,d as P}from"./Dialog-DwNRdUFJ.js";const R=(s,h)=>[{accessorKey:"name",header:({column:r})=>e.jsxs(d,{variant:"ghost",onClick:()=>r.toggleSorting(r.getIsSorted()==="asc"),children:["Product",e.jsx(j,{className:"ml-2 h-4 w-4"})]}),cell:({row:r})=>{const a=r.original,l=a.featured_image?.thumbnail_url||a.featured_image?.url||null;return e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex-shrink-0 h-16 w-24",children:l?e.jsx("img",{src:l,alt:a.name,className:"h-16 w-24 object-cover rounded-lg"}):e.jsx("div",{className:"h-16 w-24 bg-muted rounded-lg flex items-center justify-center",children:e.jsx(N,{className:"w-8 h-8 text-muted-foreground"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:a.name}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[a.bedrooms&&a.bathrooms&&e.jsxs("span",{children:[a.bedrooms," BR • ",a.bathrooms," BA"]}),a.land_size&&e.jsxs("span",{className:"ml-2",children:["• ",a.land_size," m²"]})]})]})]})}},{accessorKey:"type",header:"Type",cell:({row:r})=>{const a=r.getValue("type"),l={house:"default",apartment:"secondary",land:"outline"};return e.jsx(c,{variant:l[a]||"secondary",children:a.charAt(0).toUpperCase()+a.slice(1)})}},{accessorKey:"location",header:"Location",cell:({row:r})=>{const a=r.original;return e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:a.location}),e.jsx("div",{className:"text-sm text-muted-foreground",children:a.city})]})}},{accessorKey:"price",header:({column:r})=>e.jsxs(d,{variant:"ghost",onClick:()=>r.toggleSorting(r.getIsSorted()==="asc"),children:["Price",e.jsx(j,{className:"ml-2 h-4 w-4"})]}),cell:({row:r})=>{const a=r.getValue("price"),l=new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(a);return e.jsx("div",{className:"font-semibold",children:l})}},{accessorKey:"is_active",header:"Status",cell:({row:r})=>{const a=r.original,l=a.is_sold,o=a.is_active,n=a.is_featured,g=l?"destructive":o?"success":"secondary";return e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx(c,{variant:g,children:l?"Sold":o?"Active":"Inactive"}),n&&e.jsx(c,{variant:"default",className:"w-fit",children:"Featured"})]})}},{id:"actions",header:()=>e.jsx("div",{className:"text-right",children:"Actions"}),cell:({row:r})=>{const a=r.original;return e.jsxs("div",{className:"flex items-center justify-end gap-1",children:[e.jsxs(d,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>h(a),children:[e.jsx(v,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"View details"})]}),e.jsx(d,{variant:"ghost",size:"icon",className:"h-8 w-8",asChild:!0,children:e.jsxs(y,{href:`/admin/products/${a.uid}/edit`,children:[e.jsx(w,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Edit"})]})}),e.jsxs(d,{variant:"ghost",size:"icon",className:"h-8 w-8 text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>s(a.uid),children:[e.jsx(_,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Delete"})]})]})}}];function $({product:s,open:h,onOpenChange:r}){const[a,l]=b.useState(0),[o,n]=b.useState(!1);if(!s)return null;const g=i=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(i),t=[];s.featured_image&&t.push(s.featured_image),s.gallery_images&&s.gallery_images.length>0&&t.push(...s.gallery_images);const m=t[a]?.url||null;return e.jsxs(e.Fragment,{children:[e.jsx(C,{open:h,onOpenChange:r,children:e.jsxs(B,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsx(F,{className:"pb-4 border-b",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(A,{className:"text-2xl",children:s.name}),e.jsxs(P,{className:"flex items-center gap-2 mt-2",children:[e.jsx(u,{className:"w-4 h-4"}),s.location,", ",s.city]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(c,{variant:s.is_sold?"destructive":s.is_active?"success":"secondary",className:"h-fit",children:s.is_sold?"Sold":s.is_active?"Active":"Inactive"}),s.is_featured&&e.jsx(c,{variant:"default",className:"h-fit",children:"Featured"})]})]})}),e.jsxs("div",{className:"space-y-6 pt-4",children:[e.jsxs("div",{className:"bg-primary/5 border border-primary/20 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-1",children:[e.jsx(I,{className:"w-4 h-4"}),"Price"]}),e.jsx("div",{className:"text-3xl font-bold text-primary",children:g(s.price)})]}),t.length>0&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"aspect-video w-full overflow-hidden rounded-xl border-2 border-border cursor-pointer group relative",onClick:()=>n(!0),children:m?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:m,alt:s.name,className:"w-full h-full object-cover transition-transform group-hover:scale-105"}),e.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors flex items-center justify-center",children:e.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity bg-white/90 rounded-full p-3",children:e.jsx(v,{className:"w-6 h-6"})})})]}):e.jsx("div",{className:"w-full h-full bg-muted flex items-center justify-center",children:e.jsx(N,{className:"w-16 h-16 text-muted-foreground"})})}),t.length>1&&e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:t.map((i,x)=>{const p=i?.thumbnail_url||i?.url;return e.jsx("button",{onClick:()=>l(x),className:`flex-shrink-0 w-20 h-20 rounded-lg overflow-hidden border-2 transition-all ${a===x?"border-primary ring-2 ring-primary/20":"border-border hover:border-primary/50"}`,children:e.jsx("img",{src:p,alt:`${s.name} ${x+1}`,className:"w-full h-full object-cover"})},i.uid||x)})})]}),(s.bedrooms||s.bathrooms||s.land_size||s.building_size)&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-lg mb-3",children:"Specifications"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[s.bedrooms&&e.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 border border-border",children:[e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[e.jsx(k,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"Bedrooms"})]}),e.jsx("div",{className:"text-2xl font-bold",children:s.bedrooms})]}),s.bathrooms&&e.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 border border-border",children:[e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[e.jsx(D,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"Bathrooms"})]}),e.jsx("div",{className:"text-2xl font-bold",children:s.bathrooms})]}),s.land_size&&e.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 border border-border",children:[e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[e.jsx(S,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"Land Area"})]}),e.jsxs("div",{className:"text-2xl font-bold",children:[s.land_size,e.jsx("span",{className:"text-sm ml-1",children:"m²"})]})]}),s.building_size&&e.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 border border-border",children:[e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[e.jsx(f,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"Building"})]}),e.jsxs("div",{className:"text-2xl font-bold",children:[s.building_size,e.jsx("span",{className:"text-sm ml-1",children:"m²"})]})]})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-muted/30 rounded-lg p-4 border border-border",children:[e.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Property Type"}),e.jsxs("div",{className:"font-semibold capitalize flex items-center gap-2",children:[e.jsx(f,{className:"w-4 h-4"}),s.type]})]}),e.jsxs("div",{className:"bg-muted/30 rounded-lg p-4 border border-border",children:[e.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Location"}),e.jsxs("div",{className:"font-semibold flex items-center gap-2",children:[e.jsx(u,{className:"w-4 h-4"}),s.city]})]})]}),s.description&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-lg mb-3",children:"Description"}),e.jsx("div",{className:"prose prose-sm max-w-none text-muted-foreground bg-muted/20 rounded-lg p-4 border border-border",dangerouslySetInnerHTML:{__html:s.description}})]}),s.address&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-lg mb-3",children:"Full Address"}),e.jsxs("div",{className:"bg-muted/20 rounded-lg p-4 border border-border flex items-start gap-3",children:[e.jsx(u,{className:"w-5 h-5 text-muted-foreground flex-shrink-0 mt-0.5"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.address})]})]})]})]})}),o&&m&&e.jsxs("div",{className:"fixed inset-0 bg-black/95 z-50 flex items-center justify-center p-4",onClick:()=>n(!1),children:[e.jsx("button",{onClick:()=>n(!1),className:"absolute top-4 right-4 text-white hover:text-gray-300 transition-colors bg-black/50 rounded-full p-2",children:e.jsx(z,{className:"w-8 h-8"})}),e.jsx("div",{className:"max-w-7xl max-h-[90vh]",onClick:i=>i.stopPropagation(),children:e.jsx("img",{src:m,alt:s.name,className:"max-w-full max-h-[90vh] object-contain"})})]})]})}export{$ as ViewProductDialog,R as createColumns};
