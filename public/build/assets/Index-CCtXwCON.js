import{u as C,d as o,j as e,L as m,P as g,S as A,a5 as f,a6 as k,e as x}from"./vendor-BBx-STpB.js";import{A as T,I as F}from"./AdminLayout-UKB9Xu_-.js";import{B as a}from"./Button-D_Ydtlzf.js";import"./Textarea-KwEVnhF1.js";import"./Select-Csuxa9xw.js";import{C as v}from"./Card-BhmBKBnU.js";import{A as N}from"./Alert-Bvq7m6AA.js";import{T as H,a as P,b,c as n,d as E,e as c,D as L,f as M,g as I,h as _,i as $,j as B}from"./Dialog-1tUFRzGs.js";import"./Form-Dc_kQv7J.js";import{b as z}from"./FormField-D9J2R80r.js";import{P as R}from"./Pagination-BmfEt4au.js";function Z({highlights:d,mediaList:y,filters:h}){const{flash:i}=C().props,[j,t]=o.useState(null),[r,u]=o.useState(h.search||""),[l,p]=o.useState(h.media||""),w=s=>{x.delete(`/admin/media-highlights/${s}`,{onSuccess:()=>t(null)})},D=s=>{s.preventDefault(),x.get("/admin/media-highlights",{search:r,media:l},{preserveState:!0,preserveScroll:!0})},S=()=>{u(""),p(""),x.get("/admin/media-highlights",{},{preserveState:!0,preserveScroll:!0})};return e.jsxs(T,{children:[e.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Media Highlights"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"External news and articles from media outlets"})]}),e.jsx(m,{href:"/admin/media-highlights/create",children:e.jsxs(a,{children:[e.jsx(g,{className:"w-5 h-5 mr-2"}),"Add Highlight"]})})]}),i.success&&e.jsx(N,{variant:"success",className:"mb-6",children:i.success}),i.error&&e.jsx(N,{variant:"destructive",className:"mb-6",children:i.error}),e.jsx(v,{className:"mb-6 p-4",children:e.jsxs("form",{onSubmit:D,className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(A,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 pointer-events-none"}),e.jsx(F,{type:"text",placeholder:"Search highlights...",value:r,onChange:s=>u(s.target.value),className:"pl-10"})]}),e.jsx("div",{className:"w-full sm:w-64",children:e.jsxs(z,{name:"media",value:l,onChange:s=>p(s.target.value),children:[e.jsx("option",{value:"",children:"All Media"}),y.map(s=>e.jsx("option",{value:s.uid,children:s.name},s.uid))]})}),e.jsx(a,{type:"submit",children:"Filter"}),(r||l)&&e.jsx(a,{type:"button",variant:"secondary",onClick:S,children:"Clear"})]})}),e.jsx(v,{children:d.data.length>0?e.jsxs(e.Fragment,{children:[e.jsxs(H,{children:[e.jsx(P,{children:e.jsxs(b,{children:[e.jsx(n,{children:"Article"}),e.jsx(n,{children:"Media"}),e.jsx(n,{children:"Publish Date"}),e.jsx(n,{className:"text-right",children:"Actions"})]})}),e.jsx(E,{children:d.data.map(s=>e.jsxs(b,{children:[e.jsx(c,{children:e.jsxs("div",{className:"flex items-start gap-3",children:[s.image?e.jsx("img",{src:s.image.startsWith("http")?s.image:`/storage/${s.image}`,alt:s.title,className:"h-16 w-24 rounded object-cover shrink-0 bg-gray-50"}):e.jsx("div",{className:"h-16 w-24 rounded bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center text-white shrink-0",children:e.jsx(f,{className:"w-8 h-8"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-medium text-gray-900 line-clamp-2",children:s.title}),e.jsxs("a",{href:s.article_url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:text-blue-800 flex items-center gap-1 mt-1",children:["View Article",e.jsx(k,{className:"w-3 h-3"})]})]})]})}),e.jsx(c,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[s.media?.logo&&e.jsx("img",{src:s.media.logo.startsWith("http")?s.media.logo:`/storage/${s.media.logo}`,alt:s.media.name,className:"h-6 w-6 rounded object-contain"}),e.jsx("span",{className:"text-sm text-gray-900",children:s.media?.name})]})}),e.jsx(c,{className:"text-gray-600",children:new Date(s.publish_date).toLocaleDateString("id-ID",{year:"numeric",month:"short",day:"numeric"})}),e.jsx(c,{className:"text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx(m,{href:`/admin/media-highlights/${s.uid}/edit`,children:e.jsx(a,{variant:"ghost",size:"sm",children:"Edit"})}),e.jsx(a,{variant:"ghost",size:"sm",onClick:()=>t(s.uid),className:"text-red-600 hover:text-red-900 hover:bg-red-50",children:"Delete"})]})})]},s.uid))})]}),e.jsx(R,{data:d})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(f,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No highlights found"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:r||l?"Try adjusting your filters":"Get started by adding a media highlight."}),!r&&!l&&e.jsx("div",{className:"mt-6",children:e.jsx(m,{href:"/admin/media-highlights/create",children:e.jsxs(a,{children:[e.jsx(g,{className:"w-5 h-5 mr-2"}),"Add Highlight"]})})})]})}),e.jsx(L,{open:!!j,onOpenChange:()=>t(null),children:e.jsxs(M,{onClose:()=>t(null),children:[e.jsxs(I,{children:[e.jsx(_,{children:"Delete Media Highlight"}),e.jsx($,{children:"Are you sure you want to delete this highlight? This action cannot be undone."})]}),e.jsxs(B,{children:[e.jsx(a,{variant:"secondary",onClick:()=>t(null),children:"Cancel"}),e.jsx(a,{variant:"destructive",onClick:()=>w(j),children:"Delete"})]})]})})]})}export{Z as default};
