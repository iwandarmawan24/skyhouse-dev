import{f as h,d as b,j as e,L as m}from"./vendor-CGGQDrpY.js";import{A as f}from"./AdminLayout-DLF7mYPY.js";import"./Button-DtLeDkBC.js";import"./Input-vqcA0MAI.js";function _({event:s}){const i=s!==null,{data:a,setData:l,post:x,processing:o,errors:t}=h({title:s?.title||"",description:s?.description||"",event_date:s?.event_date_only||"",event_time:s?.event_time||"",location:s?.location||"",image:null,registration_link:s?.registration_link||"",is_active:s?.is_active??!0,_method:i?"PUT":"POST"}),[c,g]=b.useState(s?.image?s.image.startsWith("http")?s.image:`/storage/${s.image}`:null),u=r=>{const n=r.target.files[0];if(n){l("image",n);const d=new FileReader;d.onloadend=()=>{g(d.result)},d.readAsDataURL(n)}},p=r=>{r.preventDefault();const n=i?`/admin/events/${s.uid}`:"/admin/events";x(n)};return e.jsxs(f,{children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[e.jsx(m,{href:"/admin/events",className:"text-gray-600 hover:text-gray-900",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:i?"Edit Event":"Create New Event"})]}),e.jsx("p",{className:"text-gray-600 ml-10",children:i?"Update the event details below":"Fill in the form to add a new event"})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:e.jsxs("form",{onSubmit:p,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-2",children:["Event Title ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{id:"title",type:"text",value:a.title,onChange:r=>l("title",r.target.value),className:`w-full px-4 py-2 rounded-lg border ${t.title?"border-red-500":"border-gray-300"} focus:ring-2 focus:ring-blue-500 focus:border-transparent`,placeholder:"Enter event title"}),t.title&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.title})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-2",children:["Description ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{id:"description",value:a.description,onChange:r=>l("description",r.target.value),rows:6,className:`w-full px-4 py-2 rounded-lg border ${t.description?"border-red-500":"border-gray-300"} focus:ring-2 focus:ring-blue-500 focus:border-transparent`,placeholder:"Enter event description"}),t.description&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.description})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"event_date",className:"block text-sm font-medium text-gray-700 mb-2",children:["Event Date ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{id:"event_date",type:"date",value:a.event_date,onChange:r=>l("event_date",r.target.value),className:`w-full px-4 py-2 rounded-lg border ${t.event_date?"border-red-500":"border-gray-300"} focus:ring-2 focus:ring-blue-500 focus:border-transparent`}),t.event_date&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.event_date})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"event_time",className:"block text-sm font-medium text-gray-700 mb-2",children:["Event Time ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{id:"event_time",type:"time",value:a.event_time,onChange:r=>l("event_time",r.target.value),className:`w-full px-4 py-2 rounded-lg border ${t.event_time?"border-red-500":"border-gray-300"} focus:ring-2 focus:ring-blue-500 focus:border-transparent`}),t.event_time&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.event_time})]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700 mb-2",children:["Location ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{id:"location",type:"text",value:a.location,onChange:r=>l("location",r.target.value),className:`w-full px-4 py-2 rounded-lg border ${t.location?"border-red-500":"border-gray-300"} focus:ring-2 focus:ring-blue-500 focus:border-transparent`,placeholder:"Enter event location"}),t.location&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.location})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"image",className:"block text-sm font-medium text-gray-700 mb-2",children:["Event Image ",!i&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"space-y-4",children:[c&&e.jsx("div",{className:"relative w-full h-64 rounded-lg overflow-hidden bg-gray-100",children:e.jsx("img",{src:c,alt:"Preview",className:"w-full h-full object-cover"})}),e.jsx("div",{className:"flex items-center justify-center w-full",children:e.jsxs("label",{htmlFor:"image",className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[e.jsx("svg",{className:"w-8 h-8 mb-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),e.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[e.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),e.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, JPEG or WEBP (MAX. 2MB)"})]}),e.jsx("input",{id:"image",type:"file",className:"hidden",accept:"image/jpeg,image/png,image/jpg,image/webp",onChange:u})]})})]}),t.image&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.image}),i&&e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Leave empty to keep the current image"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"registration_link",className:"block text-sm font-medium text-gray-700 mb-2",children:"Registration Link (Optional)"}),e.jsx("input",{id:"registration_link",type:"url",value:a.registration_link,onChange:r=>l("registration_link",r.target.value),className:`w-full px-4 py-2 rounded-lg border ${t.registration_link?"border-red-500":"border-gray-300"} focus:ring-2 focus:ring-blue-500 focus:border-transparent`,placeholder:"https://..."}),t.registration_link&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.registration_link})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"is_active",className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),e.jsx("div",{className:"flex items-center h-10",children:e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{id:"is_active",type:"checkbox",checked:a.is_active,onChange:r=>l("is_active",r.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"}),e.jsx("span",{className:"ms-3 text-sm font-medium text-gray-700",children:a.is_active?"Active":"Inactive"})]})})]}),e.jsxs("div",{className:"flex items-center justify-end gap-4 pt-6 border-t",children:[e.jsx(m,{href:"/admin/events",className:"px-6 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:o,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed",children:o?"Saving...":i?"Update Event":"Create Event"})]})]})})]})}export{_ as default};
