import{f as w,j as e,L as c,A as g}from"./vendor-BnbgrNvg.js";import{A as y}from"./AdminLayout-sVT0_NAf.js";import{B as u}from"./Button-C9qRTbX8.js";import{C as i,a as p,b as h,c as d}from"./Card-Dup5Ukx4.js";import{F as o,b as x}from"./FormField-DjPAj18X.js";import"./Input-BiTaUmO9.js";import"./Label-D-CdDNeh.js";import"./Textarea-CzbTjwCv.js";function P({user:t}){const r=t!==null,{data:s,setData:l,post:f,processing:m,errors:n}=w({email:t?.email||"",password:"",password_confirmation:"",username:t?.username||"",full_name:t?.full_name||"",role:t?.role||"staff",status:t?.status||"active",_method:r?"PUT":"POST"}),j=a=>{a.preventDefault();const v=r?`/admin/users/${t.uid}`:"/admin/users";f(v)};return e.jsxs(y,{children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[e.jsx(c,{href:"/admin/users",className:"text-gray-600 hover:text-gray-900",children:e.jsx(g,{className:"w-6 h-6"})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:r?"Edit User":"Create New User"})]}),e.jsx("p",{className:"text-gray-600 ml-10",children:r?"Update user information":"Add a new admin user to the system"})]}),e.jsxs("form",{onSubmit:j,className:"space-y-6 max-w-2xl",children:[e.jsxs(i,{children:[e.jsx(p,{children:e.jsx(h,{children:"User Information"})}),e.jsxs(d,{className:"space-y-6",children:[e.jsx(o,{label:"Email Address",name:"email",type:"email",required:!0,value:s.email,onChange:a=>l("email",a.target.value),error:n.email,placeholder:"email@example.com"}),e.jsx(o,{label:"Username",name:"username",required:!0,value:s.username,onChange:a=>l("username",a.target.value),error:n.username,placeholder:"username (lowercase, numbers, underscore only)",helperText:"Only lowercase letters, numbers, and underscores allowed"}),e.jsx(o,{label:"Full Name",name:"full_name",required:!0,value:s.full_name,onChange:a=>l("full_name",a.target.value),error:n.full_name,placeholder:"Enter full name"}),e.jsxs(x,{label:"Role",name:"role",required:!0,value:s.role,onChange:a=>l("role",a.target.value),error:n.role,children:[e.jsx("option",{value:"staff",children:"Staff"}),e.jsx("option",{value:"superadmin",children:"Super Admin"})]}),e.jsxs(x,{label:"Status",name:"status",required:!0,value:s.status,onChange:a=>l("status",a.target.value),error:n.status,children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Not Active"})]})]})]}),e.jsxs(i,{children:[e.jsx(p,{children:e.jsx(h,{children:r?"Change Password (Optional)":"Password"})}),e.jsxs(d,{className:"space-y-6",children:[r&&e.jsx("p",{className:"text-sm text-gray-600",children:"Leave password fields empty to keep the current password"}),e.jsx(o,{label:"Password",name:"password",type:"password",required:!r,value:s.password,onChange:a=>l("password",a.target.value),error:n.password,placeholder:r?"Leave empty to keep current password":"Minimum 8 characters"}),e.jsx(o,{label:"Confirm Password",name:"password_confirmation",type:"password",required:!r&&s.password,value:s.password_confirmation,onChange:a=>l("password_confirmation",a.target.value),error:n.password_confirmation,placeholder:"Re-enter password"}),!r&&e.jsx("p",{className:"text-sm text-gray-500",children:"Password must be at least 8 characters long"})]})]}),e.jsx(i,{children:e.jsxs(d,{className:"flex items-center justify-end gap-4 pt-6",children:[e.jsx(c,{href:"/admin/users",children:e.jsx(u,{type:"button",variant:"secondary",children:"Cancel"})}),e.jsx(u,{type:"submit",disabled:m,children:m?"Saving...":r?"Update User":"Create User"})]})})]})]})}export{P as default};
