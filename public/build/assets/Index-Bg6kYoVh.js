import{d as c,j as e,L as o,P as p,S as D,a6 as g,a7 as S,e as m}from"./vendor-CGGQDrpY.js";import{A as C}from"./AdminLayout-Q6Po-ppz.js";import{B as a}from"./Button-DtLeDkBC.js";import{C as f}from"./Card-B72U85z3.js";import{I as k}from"./Input-vqcA0MAI.js";import{T,a as A,b as v,c as i,d as F,e as n}from"./Table-DAe2bP2c.js";import{D as H,a as L,b as E,c as M,d as I,e as P}from"./Dialog-Be0ftsTY.js";import{b as _}from"./FormField-BDhgHlgY.js";import{L as $}from"./LaravelPagination-DQozvNKl.js";import"./Label-BZ0NTHlA.js";import"./Textarea-Co2d0uqy.js";import"./Select-Co1LmMZ1.js";import"./Pagination-CmKTazYe.js";function Y({highlights:d,mediaList:N,filters:x}){const[h,t]=c.useState(null),[r,j]=c.useState(x.search||""),[l,u]=c.useState(x.media||""),b=s=>{m.delete(`/admin/media-highlights/${s}`,{onSuccess:()=>t(null)})},y=s=>{s.preventDefault(),m.get("/admin/media-highlights",{search:r,media:l},{preserveState:!0,preserveScroll:!0})},w=()=>{j(""),u(""),m.get("/admin/media-highlights",{},{preserveState:!0,preserveScroll:!0})};return e.jsxs(C,{children:[e.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Media Highlights"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"External news and articles from media outlets"})]}),e.jsx(o,{href:"/admin/media-highlights/create",children:e.jsxs(a,{children:[e.jsx(p,{className:"w-5 h-5 mr-2"}),"Add Highlight"]})})]}),e.jsx(f,{className:"mb-6 p-4",children:e.jsxs("form",{onSubmit:y,className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(D,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 pointer-events-none"}),e.jsx(k,{type:"text",placeholder:"Search highlights...",value:r,onChange:s=>j(s.target.value),className:"pl-10"})]}),e.jsx("div",{className:"w-full sm:w-64",children:e.jsxs(_,{name:"media",value:l,onChange:s=>u(s.target.value),children:[e.jsx("option",{value:"",children:"All Media"}),N.map(s=>e.jsx("option",{value:s.uid,children:s.name},s.uid))]})}),e.jsx(a,{type:"submit",children:"Filter"}),(r||l)&&e.jsx(a,{type:"button",variant:"secondary",onClick:w,children:"Clear"})]})}),e.jsx(f,{children:d.data.length>0?e.jsxs(e.Fragment,{children:[e.jsxs(T,{children:[e.jsx(A,{children:e.jsxs(v,{children:[e.jsx(i,{children:"Article"}),e.jsx(i,{children:"Media"}),e.jsx(i,{children:"Publish Date"}),e.jsx(i,{className:"text-right",children:"Actions"})]})}),e.jsx(F,{children:d.data.map(s=>e.jsxs(v,{children:[e.jsx(n,{children:e.jsxs("div",{className:"flex items-start gap-3",children:[s.image?e.jsx("img",{src:s.image.startsWith("http")?s.image:`/storage/${s.image}`,alt:s.title,className:"h-16 w-24 rounded object-cover shrink-0 bg-gray-50"}):e.jsx("div",{className:"h-16 w-24 rounded bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center text-white shrink-0",children:e.jsx(g,{className:"w-8 h-8"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-medium text-gray-900 line-clamp-2",children:s.title}),e.jsxs("a",{href:s.article_url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:text-blue-800 flex items-center gap-1 mt-1",children:["View Article",e.jsx(S,{className:"w-3 h-3"})]})]})]})}),e.jsx(n,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[s.media?.logo&&e.jsx("img",{src:s.media.logo.startsWith("http")?s.media.logo:`/storage/${s.media.logo}`,alt:s.media.name,className:"h-6 w-6 rounded object-contain"}),e.jsx("span",{className:"text-sm text-gray-900",children:s.media?.name})]})}),e.jsx(n,{className:"text-gray-600",children:new Date(s.publish_date).toLocaleDateString("id-ID",{year:"numeric",month:"short",day:"numeric"})}),e.jsx(n,{className:"text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx(o,{href:`/admin/media-highlights/${s.uid}/edit`,children:e.jsx(a,{variant:"ghost",size:"sm",children:"Edit"})}),e.jsx(a,{variant:"ghost",size:"sm",onClick:()=>t(s.uid),className:"text-red-600 hover:text-red-900 hover:bg-red-50",children:"Delete"})]})})]},s.uid))})]}),e.jsx($,{data:d})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(g,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No highlights found"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:r||l?"Try adjusting your filters":"Get started by adding a media highlight."}),!r&&!l&&e.jsx("div",{className:"mt-6",children:e.jsx(o,{href:"/admin/media-highlights/create",children:e.jsxs(a,{children:[e.jsx(p,{className:"w-5 h-5 mr-2"}),"Add Highlight"]})})})]})}),e.jsx(H,{open:!!h,onOpenChange:()=>t(null),children:e.jsxs(L,{onClose:()=>t(null),children:[e.jsxs(E,{children:[e.jsx(M,{children:"Delete Media Highlight"}),e.jsx(I,{children:"Are you sure you want to delete this highlight? This action cannot be undone."})]}),e.jsxs(P,{children:[e.jsx(a,{variant:"secondary",onClick:()=>t(null),children:"Cancel"}),e.jsx(a,{variant:"destructive",onClick:()=>b(h),children:"Delete"})]})]})})]})}export{Y as default};
