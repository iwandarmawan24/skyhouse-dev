import{j as e,t as x,a2 as o,K as g,L as j,a1 as v,T as u}from"./vendor-ERzRPhBn.js";import{B as n}from"./Button-DKkj-eXv.js";import{B as d}from"./Badge-B7vNS-mb.js";import{D as f,a as N,b as y,c as p,d as b}from"./Dialog-BX14YzQf.js";const I=(s,m)=>[{accessorKey:"name",header:({column:a})=>e.jsxs(n,{variant:"ghost",onClick:()=>a.toggleSorting(a.getIsSorted()==="asc"),children:["Product",e.jsx(o,{className:"ml-2 h-4 w-4"})]}),cell:({row:a})=>{const i=a.original,t=i.images?.[0],l=t?.image_path?.startsWith("http")?t.image_path:t?.image_path?`/storage/${t.image_path}`:null;return e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex-shrink-0 h-16 w-24",children:l?e.jsx("img",{src:l,alt:i.name,className:"h-16 w-24 object-cover rounded-lg"}):e.jsx("div",{className:"h-16 w-24 bg-muted rounded-lg flex items-center justify-center",children:e.jsx(x,{className:"w-8 h-8 text-muted-foreground"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:i.name}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[i.bedrooms&&i.bathrooms&&e.jsxs("span",{children:[i.bedrooms," BR • ",i.bathrooms," BA"]}),i.land_size&&e.jsxs("span",{className:"ml-2",children:["• ",i.land_size," m²"]})]})]})]})}},{accessorKey:"type",header:"Type",cell:({row:a})=>{const i=a.getValue("type"),t={house:"default",apartment:"secondary",land:"outline"};return e.jsx(d,{variant:t[i]||"secondary",children:i.charAt(0).toUpperCase()+i.slice(1)})}},{accessorKey:"location",header:"Location",cell:({row:a})=>{const i=a.original;return e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:i.location}),e.jsx("div",{className:"text-sm text-muted-foreground",children:i.city})]})}},{accessorKey:"price",header:({column:a})=>e.jsxs(n,{variant:"ghost",onClick:()=>a.toggleSorting(a.getIsSorted()==="asc"),children:["Price",e.jsx(o,{className:"ml-2 h-4 w-4"})]}),cell:({row:a})=>{const i=a.getValue("price"),t=new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(i);return e.jsx("div",{className:"font-semibold",children:t})}},{accessorKey:"is_active",header:"Status",cell:({row:a})=>{const i=a.original,t=i.is_sold,l=i.is_active,r=i.is_featured,c=t?"destructive":l?"success":"secondary";return e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx(d,{variant:c,children:t?"Sold":l?"Active":"Inactive"}),r&&e.jsx(d,{variant:"default",className:"w-fit",children:"Featured"})]})}},{id:"actions",header:()=>e.jsx("div",{className:"text-right",children:"Actions"}),cell:({row:a})=>{const i=a.original;return e.jsxs("div",{className:"flex items-center justify-end gap-1",children:[e.jsxs(n,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>m(i),children:[e.jsx(g,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"View details"})]}),e.jsx(n,{variant:"ghost",size:"icon",className:"h-8 w-8",asChild:!0,children:e.jsxs(j,{href:`/admin/products/${i.uid}/edit`,children:[e.jsx(v,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Edit"})]})}),e.jsxs(n,{variant:"ghost",size:"icon",className:"h-8 w-8 text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>s(i.uid),children:[e.jsx(u,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Delete"})]})]})}}];function S({product:s,open:m,onOpenChange:a}){if(!s)return null;const i=s.images?.[0],t=i?.image_path?.startsWith("http")?i.image_path:i?.image_path?`/storage/${i.image_path}`:null,l=r=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(r);return e.jsx(f,{open:m,onOpenChange:a,children:e.jsxs(N,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(y,{children:[e.jsx(p,{children:s.name}),e.jsx(b,{children:"Product details and specifications"})]}),e.jsxs("div",{className:"space-y-4",children:[t&&e.jsx("div",{className:"aspect-video w-full overflow-hidden rounded-lg",children:e.jsx("img",{src:t,alt:s.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Type"}),e.jsx("div",{className:"font-medium capitalize",children:s.type})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Price"}),e.jsx("div",{className:"font-semibold text-lg",children:l(s.price)})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Location"}),e.jsx("div",{className:"font-medium",children:s.location})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"City"}),e.jsx("div",{className:"font-medium",children:s.city})]})]}),(s.bedrooms||s.bathrooms||s.land_size||s.building_size)&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Specifications"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.bedrooms&&e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Bedrooms"}),e.jsx("div",{className:"font-medium",children:s.bedrooms})]}),s.bathrooms&&e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Bathrooms"}),e.jsx("div",{className:"font-medium",children:s.bathrooms})]}),s.land_size&&e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Land Size"}),e.jsxs("div",{className:"font-medium",children:[s.land_size," m²"]})]}),s.building_size&&e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Building Size"}),e.jsxs("div",{className:"font-medium",children:[s.building_size," m²"]})]})]})]}),s.description&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Description"}),e.jsx("div",{className:"text-sm text-muted-foreground prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:s.description}})]}),s.address&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Address"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.address})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(d,{variant:s.is_sold?"destructive":s.is_active?"success":"secondary",children:s.is_sold?"Sold":s.is_active?"Active":"Inactive"}),s.is_featured&&e.jsx(d,{variant:"default",children:"Featured"})]}),s.images&&s.images.length>1&&e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold mb-2",children:["Gallery (",s.images.length," images)"]}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:s.images.map((r,c)=>{const h=r.image_path.startsWith("http")?r.image_path:`/storage/${r.image_path}`;return e.jsx("div",{className:"aspect-square overflow-hidden rounded-lg",children:e.jsx("img",{src:h,alt:`${s.name} ${c+1}`,className:"w-full h-full object-cover"})},c)})})]})]})]})})}export{S as ViewProductDialog,I as createColumns};
