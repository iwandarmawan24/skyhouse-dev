import{f as v,d as N,j as e,L as m,A as y,y as b}from"./vendor-CGGQDrpY.js";import{A as C}from"./AdminLayout-DLF7mYPY.js";import{B as x}from"./Button-DtLeDkBC.js";import{C as g,a as w,b as L,c as u}from"./Card-B72U85z3.js";import{F as S,b as A}from"./FormField-BDhgHlgY.js";import{L as _}from"./Label-BZ0NTHlA.js";import"./Input-vqcA0MAI.js";import"./Textarea-Co2d0uqy.js";import"./Select-Co1LmMZ1.js";function R({media:a}){const s=a!==null,{data:d,setData:i,post:h,processing:c,errors:o}=v({name:a?.name||"",logo:null,is_active:a?.is_active??!0,_method:s?"PUT":"POST"}),[l,p]=N.useState(a?.logo?a.logo.startsWith("http")?a.logo:`/storage/${a.logo}`:null),j=t=>{const r=t.target.files[0];if(r){i("logo",r);const n=new FileReader;n.onloadend=()=>{p(n.result)},n.readAsDataURL(r)}},f=t=>{t.preventDefault();const r=s?`/admin/media/${a.uid}`:"/admin/media";h(r)};return e.jsxs(C,{children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[e.jsx(m,{href:"/admin/media",className:"text-gray-600 hover:text-gray-900",children:e.jsx(y,{className:"w-6 h-6"})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:s?"Edit Media Outlet":"Add New Media Outlet"})]}),e.jsx("p",{className:"text-gray-600 ml-10",children:s?"Update media outlet information":"Add a new media outlet"})]}),e.jsxs("form",{onSubmit:f,className:"space-y-6 max-w-2xl",children:[e.jsxs(g,{children:[e.jsx(w,{children:e.jsx(L,{children:"Media Information"})}),e.jsxs(u,{className:"space-y-6",children:[e.jsx(S,{label:"Media Name",name:"name",required:!0,value:d.name,onChange:t=>i("name",t.target.value),error:o.name,placeholder:"e.g., The New York Times, CNN, BBC"}),e.jsxs("div",{children:[e.jsx(_,{required:!0,children:"Logo Image"}),e.jsxs("div",{className:"mt-2",children:[l&&e.jsx("div",{className:"mb-4 flex items-center justify-center",children:e.jsx("img",{src:l,alt:"Logo Preview",className:"h-24 w-auto object-contain border border-gray-200 rounded-lg bg-gray-50 p-2"})}),e.jsx("input",{type:"file",id:"logo",accept:"image/*",onChange:j,className:"hidden"}),e.jsxs("label",{htmlFor:"logo",className:"inline-flex items-center justify-center gap-2 w-full px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-900 rounded-lg cursor-pointer transition-colors font-medium text-sm",children:[e.jsx(b,{className:"w-4 h-4"}),l?"Change Logo":"Upload Logo"]}),o.logo&&e.jsx("p",{className:"text-sm text-red-600 mt-2",children:o.logo}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Recommended: Square image (PNG, JPG, SVG), max 2MB"})]})]}),e.jsxs(A,{label:"Status",name:"is_active",required:!0,value:d.is_active?"1":"0",onChange:t=>i("is_active",t.target.value==="1"),error:o.is_active,children:[e.jsx("option",{value:"1",children:"Active"}),e.jsx("option",{value:"0",children:"Inactive"})]})]})]}),e.jsx(g,{children:e.jsxs(u,{className:"flex items-center justify-end gap-4 pt-6",children:[e.jsx(m,{href:"/admin/media",children:e.jsx(x,{type:"button",variant:"secondary",children:"Cancel"})}),e.jsx(x,{type:"submit",disabled:c,children:c?"Saving...":s?"Update Media":"Create Media"})]})})]})]})}export{R as default};
