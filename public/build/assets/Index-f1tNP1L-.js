import{u as w,d as p,j as e,L as n,P as v,S as C,t as y,Q as D,e as c}from"./vendor-CGGQDrpY.js";import{A as F}from"./AdminLayout-DLF7mYPY.js";import{B as a}from"./Button-DtLeDkBC.js";import{I as S}from"./Input-vqcA0MAI.js";import"./Textarea-Co2d0uqy.js";import"./Label-BZ0NTHlA.js";import"./Select-Co1LmMZ1.js";import{B as d}from"./Badge-Cq8sI8zv.js";import{C as o,c as l}from"./Card-B72U85z3.js";import{A}from"./Alert-D7r6Jku0.js";import"./Table-DAe2bP2c.js";import{D as k,a as I,b as _,c as B,d as P,e as L}from"./Dialog-Be0ftsTY.js";import"./Form-DsE5mtts.js";import{P as E}from"./Pagination-CmKTazYe.js";function V({facilities:i,filters:m}){const{flash:h}=w().props,[x,t]=p.useState(null),[r,u]=p.useState({status:m.status||"",search:m.search||""}),N=s=>{c.delete(`/admin/facilities/${s}`,{onSuccess:()=>t(null)})},g=(s,b)=>{const j={...r,[s]:b};u(j),c.get("/admin/facilities",j,{preserveState:!0,preserveScroll:!0})},f=()=>{u({status:"",search:""}),c.get("/admin/facilities",{},{preserveState:!0,preserveScroll:!0})};return e.jsxs(F,{children:[e.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Facilities"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage property facilities and amenities"})]}),e.jsx(a,{asChild:!0,children:e.jsxs(n,{href:"/admin/facilities/create",children:[e.jsx(v,{className:"w-4 h-4 mr-2"}),"Add New Facility"]})})]}),h.success&&e.jsx(A,{variant:"success",className:"mb-6",children:h.success}),e.jsx(o,{className:"mb-6",children:e.jsx(l,{className:"p-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(C,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(S,{type:"text",placeholder:"Search by name...",value:r.search,onChange:s=>g("search",s.target.value),className:"pl-9"})]}),e.jsx("div",{children:e.jsxs("select",{value:r.status,onChange:s=>g("status",s.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})}),e.jsx("div",{children:e.jsx(a,{variant:"outline",onClick:f,className:"w-full",children:"Clear Filters"})})]})})}),e.jsx(o,{children:i.data.length>0?e.jsxs(e.Fragment,{children:[e.jsx(l,{className:"p-6",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.data.map(s=>e.jsxs(o,{className:"overflow-hidden hover:shadow-md transition",children:[e.jsxs("div",{className:"relative h-48 bg-gray-100",children:[s.images.length>0?e.jsx("img",{src:s.images[0].image_path.startsWith("http")?s.images[0].image_path:`/storage/${s.images[0].image_path}`,alt:s.name,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(y,{className:"w-12 h-12 text-gray-400"})}),s.images.length>1&&e.jsxs(d,{className:"absolute bottom-2 right-2 bg-black bg-opacity-75 text-white",children:["+",s.images.length-1," more"]}),!s.is_active&&e.jsx(d,{variant:"secondary",className:"absolute top-2 left-2",children:"Inactive"})]}),e.jsxs(l,{className:"p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:s.name}),e.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 mb-4",children:s.description}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(a,{variant:"link",size:"sm",className:"h-auto p-0",asChild:!0,children:e.jsx(n,{href:`/admin/facilities/${s.uid}/edit`,children:"Edit"})}),e.jsx(a,{variant:"link",size:"sm",className:"h-auto p-0 text-red-600 hover:text-red-900",onClick:()=>t(s.uid),children:"Delete"})]}),e.jsx(d,{variant:s.is_active?"success":"secondary",children:s.is_active?"Active":"Inactive"})]})]})]},s.uid))})}),e.jsx(E,{data:i})]}):e.jsxs(l,{className:"text-center py-12",children:[e.jsx(D,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No facilities"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by creating a new facility."}),e.jsx("div",{className:"mt-6",children:e.jsx(a,{asChild:!0,children:e.jsxs(n,{href:"/admin/facilities/create",children:[e.jsx(v,{className:"w-4 h-4 mr-2"}),"Add New Facility"]})})})]})}),e.jsx(k,{open:!!x,onOpenChange:()=>t(null),children:e.jsxs(I,{children:[e.jsxs(_,{children:[e.jsx(B,{children:"Delete Facility"}),e.jsx(P,{children:"Are you sure you want to delete this facility? This action cannot be undone and will also delete all associated images."})]}),e.jsxs(L,{children:[e.jsx(a,{variant:"outline",onClick:()=>t(null),children:"Cancel"}),e.jsx(a,{variant:"destructive",onClick:()=>N(x),children:"Delete"})]})]})})]})}export{V as default};
