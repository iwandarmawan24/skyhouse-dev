import{u as A,d as p,j as e,L as h,P as f,S as P,t as T,a8 as F,e as x}from"./vendor-BBx-STpB.js";import{A as I,I as _}from"./AdminLayout-UKB9Xu_-.js";import{B as a}from"./Button-D_Ydtlzf.js";import{C as y}from"./Card-BhmBKBnU.js";import{A as k}from"./Alert-Bvq7m6AA.js";import{B as m}from"./Badge-BIe5ToDo.js";import{P as B}from"./Pagination-BmfEt4au.js";import{T as L,a as H,b as N,c as t,d as R,e as r,D as E,f as $,g as z,h as V,i as G,j as M}from"./Dialog-1tUFRzGs.js";function Y({products:d,filters:l}){const{flash:u}=A().props,[j,i]=p.useState(null),[n,g]=p.useState({type:l.type||"",status:l.status||"",featured:l.featured||"",search:l.search||""}),b=s=>{x.delete(`/admin/products/${s}`,{onSuccess:()=>i(null)})},o=(s,c)=>{const v={...n,[s]:c};g(v),x.get("/admin/products",v,{preserveState:!0,preserveScroll:!0})},w=()=>{g({type:"",status:"",featured:"",search:""}),x.get("/admin/products",{},{preserveState:!0,preserveScroll:!0})},C=s=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(s),D=s=>({house:"default",apartment:"secondary",land:"success"})[s]||"secondary",S=(s,c)=>s?"destructive":c?"success":"secondary";return e.jsxs(I,{children:[e.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Products"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage property listings"})]}),e.jsx(a,{asChild:!0,children:e.jsxs(h,{href:"/admin/products/create",children:[e.jsx(f,{className:"w-4 h-4 mr-2"}),"Add New Product"]})})]}),u.success&&e.jsx(k,{variant:"success",className:"mb-6",children:u.success}),e.jsx(y,{className:"p-4 mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[e.jsxs("div",{className:"md:col-span-2 relative",children:[e.jsx(P,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(_,{type:"text",placeholder:"Search by name, location, or city...",value:n.search,onChange:s=>o("search",s.target.value),className:"pl-10"})]}),e.jsx("div",{children:e.jsxs("select",{value:n.type,onChange:s=>o("type",s.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"All Types"}),e.jsx("option",{value:"house",children:"House"}),e.jsx("option",{value:"apartment",children:"Apartment"}),e.jsx("option",{value:"land",children:"Land"})]})}),e.jsx("div",{children:e.jsxs("select",{value:n.status,onChange:s=>o("status",s.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"sold",children:"Sold"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})}),e.jsx("div",{children:e.jsx(a,{variant:"outline",onClick:w,className:"w-full",children:"Clear Filters"})})]})}),e.jsx(y,{className:"overflow-hidden",children:d.data.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(L,{children:[e.jsx(H,{children:e.jsxs(N,{children:[e.jsx(t,{children:"Product"}),e.jsx(t,{children:"Type"}),e.jsx(t,{children:"Location"}),e.jsx(t,{children:"Price"}),e.jsx(t,{children:"Status"}),e.jsx(t,{className:"text-right",children:"Actions"})]})}),e.jsx(R,{children:d.data.map(s=>e.jsxs(N,{children:[e.jsx(r,{children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-16 w-24",children:s.images.length>0?e.jsx("img",{src:s.images[0].image_path.startsWith("http")?s.images[0].image_path:`/storage/${s.images[0].image_path}`,alt:s.name,className:"h-16 w-24 object-cover rounded-lg"}):e.jsx("div",{className:"h-16 w-24 bg-gray-200 rounded-lg flex items-center justify-center",children:e.jsx(T,{className:"w-8 h-8 text-gray-400"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:s.name}),e.jsx("div",{className:"text-sm text-gray-500",children:s.bedrooms&&s.bathrooms&&e.jsxs("span",{children:[s.bedrooms," ","BR â€¢"," ",s.bathrooms," ","BA"]})})]})]})}),e.jsx(r,{children:e.jsx(m,{variant:D(s.type),children:s.type.charAt(0).toUpperCase()+s.type.slice(1)})}),e.jsxs(r,{children:[e.jsx("div",{className:"text-sm text-gray-900",children:s.location}),e.jsx("div",{className:"text-sm text-gray-500",children:s.city})]}),e.jsx(r,{children:e.jsx("div",{className:"text-sm font-semibold text-gray-900",children:C(s.price)})}),e.jsx(r,{children:e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx(m,{variant:S(s.is_sold,s.is_active),children:s.is_sold?"Sold":s.is_active?"Active":"Inactive"}),s.is_featured&&e.jsx(m,{variant:"warning",children:"Featured"})]})}),e.jsx(r,{className:"text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx(a,{variant:"ghost",size:"sm",asChild:!0,children:e.jsx(h,{href:`/admin/products/${s.uid}/edit`,children:"Edit"})}),e.jsx(a,{variant:"ghost",size:"sm",onClick:()=>i(s.uid),className:"text-red-600 hover:text-red-900",children:"Delete"})]})})]},s.uid))})]})}),e.jsx(B,{data:d})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(F,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No products"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by creating a new product."}),e.jsx("div",{className:"mt-6",children:e.jsx(a,{asChild:!0,children:e.jsxs(h,{href:"/admin/products/create",children:[e.jsx(f,{className:"w-4 h-4 mr-2"}),"Add New Product"]})})})]})}),e.jsx(E,{open:!!j,onOpenChange:()=>i(null),children:e.jsxs($,{children:[e.jsxs(z,{children:[e.jsx(V,{children:"Delete Product"}),e.jsx(G,{children:"Are you sure you want to delete this product? This action cannot be undone and will also delete all associated images."})]}),e.jsxs(M,{children:[e.jsx(a,{variant:"outline",onClick:()=>i(null),children:"Cancel"}),e.jsx(a,{variant:"destructive",onClick:()=>b(j),children:"Delete"})]})]})})]})}export{Y as default};
